(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-079dd6e4"],{"0c6d":function(e,t,r){"use strict";r("d3b7");var a=r("bc3a"),s=r.n(a),o=r("5c96"),l=r("4360"),n=r("7859"),i=r("a18c"),c=s.a.create({baseURL:"http://leju.bufan.cloud",timeout:5e3});c.interceptors.request.use((function(e){return Object(n["a"])()&&(e.headers["token"]=Object(n["a"])()),e}),(function(e){return console.log(e),Promise.reject(e)})),c.interceptors.response.use((function(e){var t=e.data;return 20002===t.code&&(Object(n["c"])(),Object(n["d"])(),i["a"].push("/login")),2e4!==t.code?(Object(o["Message"])({message:t.message||"Error",type:"error",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||o["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){l["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(t.message||"Error"))):t}),(function(e){return console.log("err"+e),Object(o["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=c},"45fa":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[r("el-card",{staticClass:"m-30",attrs:{shadow:"always"}},[r("el-steps",{staticStyle:{"border-bottom":"1px solid #dcdfe6","margin-top":"40px","padding-bottom":"40px"},attrs:{active:e.orderBase.status+1,"align-center":""}},[r("el-step",{attrs:{title:"待付款",description:e.orderBase.createTime}}),r("el-step",{attrs:{title:"待发货",description:e.orderBase.paymentTime}}),r("el-step",{attrs:{title:"已发货",description:e.orderBase.modifyTime}}),r("el-step",{attrs:{title:3==e.orderBase.status?"已完成":"退货",description:e.orderBase.receiveTime}})],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:5,offset:0}},[r("strong",[e._v("订单信息:")]),0==e.orderBase.status?r("el-button",{attrs:{type:"danger",size:"mini"}},[e._v("待付款")]):1==e.orderBase.status?r("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("待发货")]):2==e.orderBase.status?r("el-button",{attrs:{type:"primary",size:"mini",plain:""}},[e._v("已发货")]):3==e.orderBase.status?r("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("已完成")]):4==e.orderBase.status?r("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("退货")]):5==e.orderBase.status?r("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("无效订单")]):e._e()],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[e._v(" 订单金额: "),r("span",{staticStyle:{color:"red"}},[e._v(e._s(e.orderBase.payAmount))])]),r("el-col",{attrs:{span:6,offset:0}},[e._v(" 订单编号:"+e._s(e.orderBase.orderSn)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[e._v(" 用户账号:"+e._s(e.orderBase.memberUsername)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[e._v(" 备注:"+e._s(e.orderBase.note?e.orderBase.note:"无")+" ")])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[e._v(" 下单时间: "),r("span",{staticStyle:{color:"red"}},[e._v(e._s(e.orderBase.createTime))])]),r("el-col",{attrs:{span:6,offset:0}},[e._v(" 付款时间:"+e._s(e.orderBase.paymentTime)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[e._v(" 发货时间:"+e._s(e.orderBase.modifyTime)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[e._v(" 收货时间:"+e._s(e.orderBase.receiveTime)+" ")])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:5,offset:0}},[r("strong",[e._v("收货人信息:")])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[e._v(" 收货人:"+e._s(e.orderBase.receiverName)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[e._v(" 用户姓名:"+e._s(e.orderBase.memberUsername)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[e._v(" 手机号码:"+e._s(e.orderBase.receiverPhone)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[e._v(" 邮政编码:"+e._s(e.orderBase.receiverPostCode)+" ")])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[e._v(" 地市:"+e._s(e.orderBase.receiverProvince)+" "),r("span"),e._v(" "+e._s(e.orderBase.receiverCity)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[e._v(" 详细地址:"+e._s(e.orderBase.receiverDetailAddress)+" ")])],1),r("strong",[e._v("商品信息")]),r("el-table",{attrs:{data:e.orderItems}},[r("el-table-column",{attrs:{label:"商品名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.productName)+" ")]}}])}),r("el-table-column",{attrs:{label:"商品图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.row.productSkuPic,fit:"fill",lazy:!0}})]}}])}),r("el-table-column",{attrs:{label:"是否退货"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(0==t.row.isReturn?"否":"是")+" ")]}}])}),r("el-table-column",{attrs:{prop:"productBrand",label:"品牌"}}),r("el-table-column",{attrs:{prop:"productPrice",label:"价格"}}),r("el-table-column",{attrs:{prop:"productQuantity",label:"商品数量"}}),r("el-table-column",{attrs:{prop:"totalPrice",label:"小计"}})],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[r("strong",[e._v("费用信息:")])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[e._v(" 运费金额: "),r("span",{staticStyle:{color:"red"}},[e._v("0")])]),r("el-col",{attrs:{span:6,offset:0}},[e._v(" 订单总金额:"),r("span",{staticStyle:{color:"red"}},[e._v(e._s(e.orderBase.payAmount))])]),r("el-col",{attrs:{span:6,offset:0}},[e._v(" 实际金额:"),r("span",{staticStyle:{color:"red"}},[e._v(e._s(e.orderBase.totalAmount))])]),r("el-col",{attrs:{span:6,offset:0}},[e._v(" 促销优化金额: "),r("span",{staticStyle:{color:"red"}},[e._v("0")])])],1),e.orderBase.status>=2?r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[r("strong",[e._v("物流信息:")]),r("span",[e._v(e._s(e.orderBase.deliveryCompany))])])],1):e._e(),e.orderBase.status>=2?r("el-table",{attrs:{data:e.deliveryCompany}},[r("el-table-column",{attrs:{prop:"time",label:"时间"}}),r("el-table-column",{attrs:{prop:"status",label:"状态"}}),r("el-table-column",{attrs:{prop:"bei",label:"备注"}})],1):e._e(),1==e.orderBase.status?r("el-form",{ref:"deliveryForm",attrs:{model:e.deliveryData,"label-width":"80px",size:"normal"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{label:"物流公司"}},[r("el-select",{attrs:{placeholder:"物流公司"},model:{value:e.deliveryData.deliveryCompany,callback:function(t){e.$set(e.deliveryData,"deliveryCompany",t)},expression:"deliveryData.deliveryCompany"}},[r("el-option",{attrs:{label:"顺丰快递",value:"顺丰快递"}}),r("el-option",{attrs:{label:"韵达快递",value:"韵达快递"}}),r("el-option",{attrs:{label:"中国邮政",value:"中国邮政"}}),r("el-option",{attrs:{label:"申通快递",value:"申通快递"}}),r("el-option",{attrs:{label:"中通快递",value:"中通快递"}})],1)],1)],1),r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{label:"物流单号"}},[r("el-input",{model:{value:e.deliveryData.deliverySn,callback:function(t){e.$set(e.deliveryData,"deliverySn",t)},expression:"deliveryData.deliverySn"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12,offset:11}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.Delivery}},[e._v("确定发货")])],1)],1)],1):e._e()],1)],1)},s=[],o=r("c7eb"),l=r("1da1"),n=r("0c6d");function i(e){return Object(n["a"])({url:"/lejuAdmin/order/orderDetail/".concat(e)})}function c(e){return Object(n["a"])({url:"/lejuAdmin/order/sendDone",method:"post",data:e})}var d={name:"Detail",data:function(){return{orderDetailId:null,orderBase:[],orderItems:[],deliveryCompany:[{time:"2022-02-22",status:"宇宙中转部中转",bei:"正在为您配送"},{time:"2022-02-23",status:"中国中转部中转",bei:"已配送到达"}],deliveryData:{}}},created:function(){this.$route.params.id&&(this.orderDetailId=this.$route.params.id,this.getOrderDetail())},methods:{getOrderDetail:function(){var e=this;return Object(l["a"])(Object(o["a"])().mark((function t(){var r,a,s,l;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i(e.orderDetailId);case 2:r=t.sent,console.log("%c [ res ]-27","font-size:13px; background:pink; color:#bf2c9f;",r),a=r.success,s=r.message,l=r.data,a?(e.orderBase=l.orderDetail.orderBase,e.orderItems=l.orderDetail.orderItems):e.$message.error(s);case 6:case"end":return t.stop()}}),t)})))()},Delivery:function(){var e=this;return Object(l["a"])(Object(o["a"])().mark((function t(){var r,a,s;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.deliveryData.orderId=e.orderBase.id,t.next=3,c(e.deliveryData);case 3:r=t.sent,a=r.success,s=r.message,a?e.getOrderDetail():e.$message.error(s);case 6:case"end":return t.stop()}}),t)})))()}}},u=d,p=r("2877"),m=Object(p["a"])(u,a,s,!1,null,"6e6776a4",null);t["default"]=m.exports}}]);