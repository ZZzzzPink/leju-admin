(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-210377df"],{"0c6d":function(e,t,r){"use strict";r("d3b7");var a=r("bc3a"),o=r.n(a),n=r("5c96"),s=r("4360"),c=r("7859"),l=r("a18c"),i=o.a.create({baseURL:"http://leju.bufan.cloud",timeout:5e3});i.interceptors.request.use((function(e){return Object(c["a"])()&&(e.headers["token"]=Object(c["a"])()),e}),(function(e){return console.log(e),Promise.reject(e)})),i.interceptors.response.use((function(e){var t=e.data;return 20002===t.code&&(Object(c["c"])(),Object(c["d"])(),l["a"].push("/login")),2e4!==t.code?(Object(n["Message"])({message:t.message||"Error",type:"error",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||n["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){s["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(t.message||"Error"))):t}),(function(e){return console.log("err"+e),Object(n["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=i},"249b":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[r("el-card",{staticClass:"m-30",attrs:{shadow:"always"}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("分类管理")])]),r("h3",[e._v("乐居分类:")]),r("el-row",{attrs:{gutter:20}},e._l(e.lejuList,(function(t){return r("el-col",{key:t.id,attrs:{span:6,offset:0}},[r("el-card",{staticStyle:{height:"400px"},attrs:{shadow:"hover"}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v(e._s(t.name))])]),r("el-image",{staticStyle:{height:"100%",width:"100%"},attrs:{src:t.icon,fit:"fill",lazy:!0}})],1)],1)})),1),r("h3",[e._v("全部分类:")]),r("el-table",{attrs:{data:e.allCategory,border:"",stripe:"","row-key":"id","tree-props":{children:"treeChild"}}},[r("el-table-column",{attrs:{label:"菜单名称",prop:"name"}}),r("el-table-column",{attrs:{label:"icon",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("img",{attrs:{width:"80",height:"80",src:e.row.icon,alt:""}})]}}])}),r("el-table-column",{attrs:{label:"分类名字",prop:"name"}}),r("el-table-column",{attrs:{label:"排序",prop:"sort"}}),r("el-table-column",{attrs:{label:"显示状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v(e._s(0===t.row.showStatus?"不显示":"显示"))])]}}])}),r("el-table-column",{attrs:{label:"描述",prop:"description"}}),r("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}})],1)],1)],1)},o=[],n=r("c7eb"),s=r("5530"),c=r("1da1"),l=(r("d3b7"),r("159b"),r("0c6d"));function i(){return Object(l["a"])({url:"/lejuAdmin/category/getAllCategory"})}var u={name:"Category",data:function(){return{allCategory:[],lejuList:[]}},created:function(){this.getAllCategory()},methods:{getAllCategory:function(){var e=this;return Object(c["a"])(Object(n["a"])().mark((function t(){var r,a,o,c;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i();case 2:r=t.sent,a=r.success,o=r.message,c=r.data,a?(console.log(c),e.lejuList=c.items[1].children,c.items.forEach((function(t){e.allCategory.push(Object(s["a"])(Object(s["a"])({},t.category),{},{treeChild:t.children}))}))):e.$message.error(o);case 5:case"end":return t.stop()}}),t)})))()}}},d=u,h=r("2877"),p=Object(h["a"])(d,a,o,!1,null,"3fc684e5",null);t["default"]=p.exports}}]);