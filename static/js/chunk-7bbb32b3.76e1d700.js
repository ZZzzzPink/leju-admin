(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bbb32b3"],{"0c6d":function(t,e,n){"use strict";n("d3b7");var r=n("bc3a"),a=n.n(r),o=n("5c96"),c=n("4360"),s=n("7859"),i=n("a18c"),l=a.a.create({baseURL:"http://leju.bufan.cloud",timeout:5e3});l.interceptors.request.use((function(t){return Object(s["a"])()&&(t.headers["token"]=Object(s["a"])()),t}),(function(t){return console.log(t),Promise.reject(t)})),l.interceptors.response.use((function(t){var e=t.data;return 20002===e.code&&(Object(s["c"])(),Object(s["d"])(),i["a"].push("/login")),2e4!==e.code?(Object(o["Message"])({message:e.message||"Error",type:"error",duration:5e3}),50008!==e.code&&50012!==e.code&&50014!==e.code||o["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){c["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(e.message||"Error"))):e}),(function(t){return console.log("err"+t),Object(o["Message"])({message:t.message,type:"error",duration:5e3}),Promise.reject(t)})),e["a"]=l},"0ccb":function(t,e,n){var r=n("50c4"),a=n("1148"),o=n("1d80"),c=Math.ceil,s=function(t){return function(e,n,s){var i,l,u=String(o(e)),d=u.length,p=void 0===s?" ":String(s),f=r(n);return f<=d||""==p?u:(i=f-d,l=a.call(p,c(i/p.length)),l.length>i&&(l=l.slice(0,i)),t?u+l:l+u)}};t.exports={start:s(!1),end:s(!0)}},1148:function(t,e,n){"use strict";var r=n("a691"),a=n("1d80");t.exports="".repeat||function(t){var e=String(a(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},"4d90":function(t,e,n){"use strict";var r=n("23e7"),a=n("0ccb").start,o=n("9a0c");r({target:"String",proto:!0,forced:o},{padStart:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"9a0c":function(t,e,n){var r=n("342f");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},b488:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return i})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return u}));n("99af");var r=n("0c6d");function a(){return Object(r["a"])({url:"/lejuAdmin/brand/findAllBrand"})}function o(t,e,n){return Object(r["a"])({url:"/lejuAdmin/product/productsByPage/".concat(t,"/").concat(e),method:"post",data:n})}function c(t){return Object(r["a"])({url:"/lejuAdmin/product/switchNewStatus",method:"post",data:t})}function s(t){return Object(r["a"])({url:"/lejuAdmin/product/switchRecommandStatus",method:"post",data:t})}function i(t){return Object(r["a"])({url:"/lejuAdmin/product/switchPublishStatus",method:"post",data:t})}function l(t){return Object(r["a"])({url:"/lejuAdmin/product/switchVerifyStatus",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/lejuAdmin/sku/getSkusByProductId/".concat(t)})}},d150:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("el-collapse",{staticStyle:{"padding-bottom":"10px","text-indent":"20px","background-color":"#fff"}},[n("el-collapse-item",{attrs:{title:"商品管理介绍",name:"1"}},[n("div",[t._v(" 商品管理模块可以对客户端的商品进行增删改查等相关操作,来控制客户端商品的列表展示和商品详情 ")])])],1),n("el-collapse",{staticClass:"m-30",staticStyle:{"padding-bottom":"10px","text-indent":"20px","background-color":"#fff"}},[n("el-collapse-item",{attrs:{title:"条件查询",name:"1"}},[n("el-form",{ref:"productFindListForm",attrs:{model:t.productFindList,"label-width":"120px",size:"mini"}},[n("el-row",{attrs:{gutter:0}},[n("el-col",{attrs:{span:6,offset:0}},[n("el-form-item",{attrs:{label:"商品名称"}},[n("el-input",{staticStyle:{"text-indent":"0"},model:{value:t.productFindList.name,callback:function(e){t.$set(t.productFindList,"name",e)},expression:"productFindList.name"}})],1)],1),n("el-col",{attrs:{span:6,offset:0}},[n("el-form-item",{attrs:{label:"商品货号"}},[n("el-input",{staticStyle:{"text-indent":"0"},model:{value:t.productFindList.productSn,callback:function(e){t.$set(t.productFindList,"productSn",e)},expression:"productFindList.productSn"}})],1)],1),n("el-col",{attrs:{span:6,offset:0}},[n("el-form-item",{attrs:{label:"品牌"}},[n("el-select",{staticStyle:{"text-indent":"0"},attrs:{placeholder:"品牌"},model:{value:t.productFindList.brandId,callback:function(e){t.$set(t.productFindList,"brandId",e)},expression:"productFindList.brandId"}},t._l(t.AllBrand,(function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),n("el-col",{attrs:{span:6,offset:0}},[n("el-form-item",{attrs:{label:"上架状态"}},[n("el-select",{staticStyle:{"text-indent":"0"},attrs:{placeholder:"上架状态"},model:{value:t.productFindList.publishStatus,callback:function(e){t.$set(t.productFindList,"publishStatus",e)},expression:"productFindList.publishStatus"}},[n("el-option",{attrs:{label:"上架",value:1}}),n("el-option",{attrs:{label:"未上架",value:0}})],1)],1)],1)],1),n("el-row",{attrs:{gutter:0}},[n("el-col",{attrs:{span:8,offset:0}},[n("el-form-item",{attrs:{label:"审核状态"}},[n("el-select",{staticStyle:{"text-indent":"0"},attrs:{placeholder:"审核状态"},model:{value:t.productFindList.verifyStatus,callback:function(e){t.$set(t.productFindList,"verifyStatus",e)},expression:"productFindList.verifyStatus"}},[n("el-option",{attrs:{label:"未审核",value:0}}),n("el-option",{attrs:{label:"审核通过",value:1}})],1)],1)],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:6,offset:18}},[n("el-form-item",[n("el-button",{attrs:{size:"mini"},on:{click:t.clear}},[t._v("重置")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.getProductList}},[t._v("搜索")])],1)],1)],1)],1)],1)],1),n("el-card",{staticClass:"m-30",attrs:{shadow:"always"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.goAddProduct}},[t._v("新增")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.exportExcel}},[t._v("导出商品列表excel列表")])],1),n("el-table",{attrs:{data:t.productList,border:"",stripe:""}},[n("el-table-column",{attrs:{align:"center",type:"index",label:"序号"}}),n("el-table-column",{attrs:{align:"center",label:"商品图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.pic,fit:"fill"}})]}}])}),n("el-table-column",{attrs:{width:"200",align:"center",prop:"name",label:"商品名称"}}),n("el-table-column",{attrs:{align:"center",label:"商品价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[t._v("原价:"+t._s(e.row.originalPrice))]),n("div",[t._v("现价:"+t._s(e.row.price))])]}}])}),n("el-table-column",{attrs:{align:"center",prop:"productCategoryName",label:"商品类别"}}),n("el-table-column",{attrs:{align:"center",label:"标签"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[t._v(" 最新:"),n("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(n){return t.statusChange(e.row.id,e.row.newStatus,0)}},model:{value:e.row.newStatus,callback:function(n){t.$set(e.row,"newStatus",n)},expression:"scope.row.newStatus"}})],1),n("div",[t._v(" 推荐:"),n("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(n){return t.statusChange(e.row.id,e.row.recommendStatus,1)}},model:{value:e.row.recommendStatus,callback:function(n){t.$set(e.row,"recommendStatus",n)},expression:"scope.row.recommendStatus"}})],1)]}}])}),n("el-table-column",{attrs:{align:"center",label:"标签2"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[t._v(" 发布:"),n("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(n){return t.statusChange(e.row.id,e.row.publishStatus,2)}},model:{value:e.row.publishStatus,callback:function(n){t.$set(e.row,"publishStatus",n)},expression:"scope.row.publishStatus"}})],1),n("div",[t._v(" 审核:"),n("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(n){return t.statusChange(e.row.id,e.row.verifyStatus,3)}},model:{value:e.row.verifyStatus,callback:function(n){t.$set(e.row,"verifyStatus",n)},expression:"scope.row.verifyStatus"}})],1)]}}])}),n("el-table-column",{attrs:{align:"center",label:"sku"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("i",{on:{click:function(n){return t.sku(e.row.id)}}},[t._v("编辑sku")])]}}])}),n("el-table-column",{attrs:{prop:"weight",align:"center",label:"重量"}}),n("el-table-column",{attrs:{prop:"sort",align:"center",label:"排序"}}),n("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){return t.goToAdd(e.row.id)}}},[t._v("编辑")]),n("el-button",{staticStyle:{color:"red"},attrs:{type:"text",size:"mini"}},[t._v("删除")])]}}])})],1),n("el-pagination",{staticStyle:{"text-align":"left","margin-top":"20px"},attrs:{"current-page":t.start,"page-sizes":[10,20,30,40],"page-size":t.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},a=[],o=n("c7eb"),c=n("1da1"),s=(n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("b488")),i=n("ed08"),l={name:"ProductList",data:function(){return{productFindList:{},AllBrand:{},productList:[],start:1,limit:10,total:0}},created:function(){this.getBrandList(),this.getProductList()},methods:{getProductList:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n,r,a,c,l;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(i["a"])(t.productFindList),e.next=3,Object(s["c"])(t.start,t.limit,n);case 3:r=e.sent,a=r.success,c=r.data,l=r.message,a?(t.total=c.total,t.productList=c.rows):t.$message.error(l);case 6:case"end":return e.stop()}}),e)})))()},getBrandList:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n,r,a,c;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["a"])();case 2:n=e.sent,r=n.success,a=n.data,c=n.message,r?t.AllBrand=a.items:t.$message.error(c);case 5:case"end":return e.stop()}}),e)})))()},clear:function(){this.productFindList={},this.getProductList()},statusChange:function(t,e,n){var r=this;return Object(c["a"])(Object(o["a"])().mark((function a(){var c,i,l,u;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(t,e,n),c=null,0==n?c=s["d"]:1==n?c=s["f"]:2==n?c=s["e"]:3==n&&(c=s["g"]),a.next=5,c({productId:t,status:e});case 5:i=a.sent,l=i.success,u=i.message,l?(r.getProductList(),r.getBrandList()):r.$message.error(u);case 8:case"end":return a.stop()}}),a)})))()},sku:function(t){return Object(c["a"])(Object(o["a"])().mark((function e(){var n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["b"])(t);case 2:n=e.sent,n.success,n.message;case 5:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),this.limit=t,this.getProductList()},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.start=t,this.getProductList()},goAddProduct:function(){this.$router.push({name:"AddProduct"})},exportExcel:function(){var t=this;console.log(222),Promise.all([n.e("chunk-e2403282"),n.e("chunk-5cbb5a04"),n.e("chunk-2d0cc0b6")]).then(n.bind(null,"4bf8")).then((function(e){var n=["Id","brandId","brandName","description","createTime"],r=["id","brandId","brandName","description","createTime"],a=t.productList,o=t.formatJson(r,a);console.log("%c [ data ]-359","font-size:13px; background:pink; color:#bf2c9f;",o),e.export_json_to_excel({header:n,data:o,filename:"商品列表",autoWidth:!0,bookType:"xlsx"})}))},formatJson:function(t,e){return e.map((function(e){return t.map((function(t){return e[t]}))}))},goToAdd:function(t){console.log("%c [ id ]-382","font-size:13px; background:pink; color:#bf2c9f;",t),console.log(this.productList),this.$router.push({name:"AddProduct",params:{id:t}})}}},u=l,d=n("2877"),p=Object(d["a"])(u,r,a,!1,null,"4b986dbb",null);e["default"]=p.exports},ed08:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("53ca"),n("ac1f"),n("00b4"),n("5319"),n("4d63"),n("2c3e"),n("25f0"),n("d3b7"),n("4d90"),n("159b");function r(t){var e={};for(var n in t)(t[n]||0==t[n])&&(e[n]=t[n]);return e}}}]);