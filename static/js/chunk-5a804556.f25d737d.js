(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a804556"],{"0c6d":function(e,t,l){"use strict";l("d3b7");var i=l("bc3a"),a=l.n(i),s=l("5c96"),r=l("4360"),o=l("7859"),n=l("a18c"),c=a.a.create({baseURL:"http://leju.bufan.cloud",timeout:5e3});c.interceptors.request.use((function(e){return Object(o["a"])()&&(e.headers["token"]=Object(o["a"])()),e}),(function(e){return console.log(e),Promise.reject(e)})),c.interceptors.response.use((function(e){var t=e.data;return 20002===t.code&&(Object(o["c"])(),Object(o["d"])(),n["a"].push("/login")),2e4!==t.code?(Object(s["Message"])({message:t.message||"Error",type:"error",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||s["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){r["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(t.message||"Error"))):t}),(function(e){return console.log("err"+e),Object(s["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=c},ffe9:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"header"},[l("el-card",{staticClass:"m-30",attrs:{shadow:"always"}},[l("div",{attrs:{slot:"header"},slot:"header"},[l("el-button",{attrs:{type:"warning",size:"small"},on:{click:e.openInitMenu}},[e._v("初始化菜单")]),l("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.openEdit}},[e._v("新增菜单")])],1),l("el-table",{attrs:{data:e.perList,border:"",stripe:"","row-key":"id","tree-props":{children:"children"}}},[l("el-table-column",{attrs:{fixed:"left",align:"center",prop:"title",label:"菜单名称",width:"200"}}),l("el-table-column",{attrs:{align:"center",label:"图标"},scopedSlots:e._u([{key:"default",fn:function(e){return[l("i",{class:e.row.icon})]}}])}),l("el-table-column",{attrs:{align:"center",prop:"level",label:"等级"}}),l("el-table-column",{attrs:{align:"center",prop:"sort",label:"排序"}}),l("el-table-column",{attrs:{align:"center",prop:"permissionValue",label:"权限标识",width:"250"}}),l("el-table-column",{attrs:{align:"center",prop:"path",label:"路由",width:"250"}}),l("el-table-column",{attrs:{align:"center",prop:"component",label:"组件路径",width:"250"}}),l("el-table-column",{attrs:{align:"center",prop:"status",label:"是否可用",width:"250"}}),l("el-table-column",{attrs:{width:"200",align:"center",prop:"createTime",label:"创建时间"}})],1),l("el-dialog",{attrs:{title:"初始化的菜单列表",visible:e.isShow,width:"40%"},on:{"update:visible":function(t){e.isShow=t},close:e.closeMenu}},[l("el-alert",{attrs:{title:"请谨慎操作! 初始化菜单会覆盖之前记录!",type:"warning"}}),l("el-tree",{staticStyle:{"margin-top":"45px"},attrs:{data:e.perList,props:e.defaultProps}}),l("span",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.isShow=!1}}},[e._v("取消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.init}},[e._v("确定")])],1)],1),l("el-dialog",{attrs:{title:"编辑菜单",visible:e.isShowEd,width:"45%"},on:{"update:visible":function(t){e.isShowEd=t},close:e.closeEd}},[l("el-form",{ref:"addEditMenusForm",attrs:{"label-width":"80px",size:"normal"}},[l("el-form-item",{attrs:{label:"菜单类型"}},[l("el-radio-group",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[l("el-radio",{attrs:{label:1}},[e._v("顶级目录")]),l("el-radio",{attrs:{label:2}},[e._v("菜单")]),l("el-radio",{attrs:{label:3}},[e._v("按钮")])],1)],1),1==e.radio?l("div",[l("el-form-item",{attrs:{label:"路由名称"}},[l("el-input",{attrs:{size:"mini"}})],1),l("el-form-item",{attrs:{label:"路由名称"}},[l("el-input",{attrs:{size:"mini"}})],1),l("el-form-item",{attrs:{label:"组件路径"}},[l("el-input",{attrs:{size:"mini"}})],1),l("el-form-item",{attrs:{label:"重定向"}},[l("el-input",{attrs:{size:"mini"}})],1),l("el-form-item",{attrs:{label:"排序"}},[l("el-input-number",{attrs:{size:"mini",min:0,max:10,step:1,controls:!0,"controls-position":"both"},model:{value:e.numb,callback:function(t){e.numb=t},expression:"numb"}})],1),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12,offset:0}},[l("el-form-item",{attrs:{label:"是否隐藏"}},[l("el-radio",{attrs:{label:0},model:{value:e.isHide,callback:function(t){e.isHide=t},expression:"isHide"}},[e._v("否")]),l("el-radio",{attrs:{label:1},model:{value:e.isHide,callback:function(t){e.isHide=t},expression:"isHide"}},[e._v("是")])],1)],1),l("el-col",{attrs:{span:12,offset:0}},[l("el-form-item",{attrs:{label:"是否展开"}},[l("el-radio",{attrs:{label:0},model:{value:e.isExp,callback:function(t){e.isExp=t},expression:"isExp"}},[e._v("否")]),l("el-radio",{attrs:{label:1},model:{value:e.isExp,callback:function(t){e.isExp=t},expression:"isExp"}},[e._v("是")])],1)],1)],1),l("el-row",{attrs:{gutter:0}},[l("el-col",{attrs:{span:10,offset:0}},[l("el-form-item",{attrs:{label:"meta属性"}},[l("el-input",{attrs:{placeholder:"title",size:"mini",clearable:""}})],1)],1),l("el-col",{attrs:{span:10,offset:0}},[l("el-form-item",{attrs:{label:""}},[l("el-input",{attrs:{placeholder:"title",size:"mini",clearable:""}})],1)],1),l("el-col",{attrs:{span:2,offset:1}},[l("i",{staticClass:"el-icon-plus",staticStyle:{color:"#66b1ff","line-height":"38px"},on:{click:function(t){e.num++}}})])],1),l("el-row",{attrs:{gutter:0}},[l("el-col",{attrs:{span:10,offset:0}},[l("el-form-item",{attrs:{label:""}},[l("el-input",{attrs:{placeholder:"title",size:"mini",clearable:""}})],1)],1),l("el-col",{attrs:{span:10,offset:0}},[l("el-form-item",{attrs:{label:""}},[l("el-input",{attrs:{placeholder:"title",size:"mini",clearable:""}})],1)],1),l("el-col",{attrs:{span:2,offset:1}},[l("i",{staticClass:"el-icon-plus",staticStyle:{color:"#66b1ff","line-height":"38px"},on:{click:function(t){e.num++}}})])],1),e._l(e.num,(function(t){return l("el-row",{key:t,attrs:{gutter:0}},[l("el-col",{attrs:{span:10,offset:0}},[l("el-form-item",{attrs:{label:""}},[l("el-input",{attrs:{placeholder:"title",size:"mini",clearable:""}})],1)],1),l("el-col",{attrs:{span:10,offset:0}},[l("el-form-item",{attrs:{label:""}},[l("el-input",{attrs:{placeholder:"title",size:"mini",clearable:""}})],1)],1),l("el-col",{attrs:{span:2,offset:1}},[l("i",{staticClass:"el-icon-plus",staticStyle:{color:"#66b1ff","line-height":"38px"},on:{click:function(t){e.num++}}}),l("i",{staticClass:"el-icon-minus",staticStyle:{color:"red","line-height":"38px","margin-left":"5px"},on:{click:function(t){e.num--}}})])],1)}))],2):e._e(),2==e.radio?l("div",[l("el-form-item",{attrs:{label:"上级菜单"}},[l("el-cascader",{attrs:{options:e.list,props:{expandTrigger:"hover",value:"id",label:"title",checkStrictly:!0,disabled:"isDis"}},model:{value:e.pid,callback:function(t){e.pid=t},expression:"pid"}})],1),l("el-form-item",{attrs:{label:"路由名称"}},[l("el-input",{attrs:{size:"mini"}})],1),l("el-form-item",{attrs:{label:"路径"}},[l("el-input",{attrs:{size:"mini"}})],1),l("el-form-item",{attrs:{label:"组件路径"}},[l("el-input",{attrs:{size:"mini"}})],1),l("el-form-item",{attrs:{label:"重定向"}},[l("el-input",{attrs:{size:"mini"}})],1),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12,offset:0}},[l("el-form-item",{attrs:{label:"排序"}},[l("el-input-number",{attrs:{size:"mini",min:0,max:10,step:1,controls:!0,"controls-position":"both"},model:{value:e.numsor,callback:function(t){e.numsor=t},expression:"numsor"}})],1)],1),l("el-col",{attrs:{span:12,offset:0}},[l("el-form-item",{attrs:{label:"层级"}},[l("el-input-number",{attrs:{size:"mini",min:0,max:10,step:1,controls:!0,"controls-position":"both"},model:{value:e.numc,callback:function(t){e.numc=t},expression:"numc"}})],1)],1)],1),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12,offset:0}},[l("el-form-item",{attrs:{label:"是否隐藏"}},[l("el-radio",{attrs:{label:0},model:{value:e.isHide,callback:function(t){e.isHide=t},expression:"isHide"}},[e._v("否")]),l("el-radio",{attrs:{label:1},model:{value:e.isHide,callback:function(t){e.isHide=t},expression:"isHide"}},[e._v("是")])],1)],1),l("el-col",{attrs:{span:12,offset:0}},[l("el-form-item",{attrs:{label:"是否展开"}},[l("el-radio",{attrs:{label:0},model:{value:e.isExp,callback:function(t){e.isExp=t},expression:"isExp"}},[e._v("否")]),l("el-radio",{attrs:{label:1},model:{value:e.isExp,callback:function(t){e.isExp=t},expression:"isExp"}},[e._v("是")])],1)],1)],1),l("el-row",{attrs:{gutter:0}},[l("el-col",{attrs:{span:10,offset:0}},[l("el-form-item",{attrs:{label:"meta属性"}},[l("el-input",{attrs:{placeholder:"title",size:"mini",clearable:""}})],1)],1),l("el-col",{attrs:{span:10,offset:0}},[l("el-form-item",{attrs:{label:""}},[l("el-input",{attrs:{placeholder:"title",size:"mini",clearable:""}})],1)],1),l("el-col",{attrs:{span:2,offset:1}},[l("i",{staticClass:"el-icon-plus",staticStyle:{color:"#66b1ff","line-height":"38px"},on:{click:function(t){e.numcaidan++}}})])],1),l("el-row",{attrs:{gutter:0}},[l("el-col",{attrs:{span:10,offset:0}},[l("el-form-item",{attrs:{label:""}},[l("el-input",{attrs:{placeholder:"title",size:"mini",clearable:""}})],1)],1),l("el-col",{attrs:{span:10,offset:0}},[l("el-form-item",{attrs:{label:""}},[l("el-input",{attrs:{placeholder:"title",size:"mini",clearable:""}})],1)],1),l("el-col",{attrs:{span:2,offset:1}},[l("i",{staticClass:"el-icon-plus",staticStyle:{color:"#66b1ff","line-height":"38px"},on:{click:function(t){e.numcaidan++}}})])],1),e._l(e.numcaidan,(function(t){return l("el-row",{key:t,attrs:{gutter:0}},[l("el-col",{attrs:{span:10,offset:0}},[l("el-form-item",{attrs:{label:""}},[l("el-input",{attrs:{placeholder:"title",size:"mini",clearable:""}})],1)],1),l("el-col",{attrs:{span:10,offset:0}},[l("el-form-item",{attrs:{label:""}},[l("el-input",{attrs:{placeholder:"title",size:"mini",clearable:""}})],1)],1),l("el-col",{attrs:{span:2,offset:1}},[l("i",{staticClass:"el-icon-plus",staticStyle:{color:"#66b1ff","line-height":"38px"},on:{click:function(t){e.numcaidan++}}}),l("i",{staticClass:"el-icon-minus",staticStyle:{color:"red","line-height":"38px","margin-left":"5px"},on:{click:function(t){e.numcaidan--}}})])],1)}))],2):e._e(),3==e.radio?l("div",[l("el-form-item",{attrs:{label:"所在页面"}},[l("el-cascader",{attrs:{options:e.list,props:{expandTrigger:"hover",value:"id",label:"title",checkStrictly:!0,disabled:"isDis"}},model:{value:e.pid,callback:function(t){e.pid=t},expression:"pid"}})],1),l("el-form-item",{attrs:{label:"按钮名称"}},[l("el-input",{attrs:{placeholder:"输入按钮名称",size:"mini"}})],1),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12,offset:0}},[l("el-form-item",{attrs:{label:"排序"}},[l("el-input-number",{attrs:{size:"mini",min:0,max:10,step:1,controls:!0,"controls-position":"both"},model:{value:e.numsor,callback:function(t){e.numsor=t},expression:"numsor"}})],1)],1),l("el-col",{attrs:{span:12,offset:0}},[l("el-form-item",{attrs:{label:"层级"}},[l("el-input-number",{attrs:{size:"mini",min:0,max:10,step:1,controls:!0,"controls-position":"both"},model:{value:e.numc,callback:function(t){e.numc=t},expression:"numc"}})],1)],1)],1),l("el-form-item",{attrs:{label:"权限标识"}},[l("el-input",{attrs:{type:"textarea",rows:4,placeholder:"按钮权限标识"}})],1)],1):e._e()],1),l("span",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.isShowEd=!1}}},[e._v("取消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.addEdit}},[e._v("确认")])],1)],1)],1)],1)},a=[],s=l("c7eb"),r=l("1da1"),o=l("0c6d");function n(){return Object(o["a"])({url:"/admin/sysAuth/permission/findAllPermissions"})}var c=l("2ef0"),u={name:"Permission",data:function(){return{perList:[],isShow:!1,isShowEd:!1,defaultProps:{children:"children",label:"title"},addEditMenus:{},radio:1,numb:0,isHide:1,isExp:0,num:0,pid:"",numsor:0,numc:0,numcaidan:0}},created:function(){this.getPermissionsList()},computed:{list:function(){var e=c.cloneDeep(this.perList);return this.delChildren(e),e}},methods:{getPermissionsList:function(){var e=this;return Object(r["a"])(Object(s["a"])().mark((function t(){var l,i,a,r;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:l=t.sent,i=l.success,a=l.message,r=l.data,i?e.perList=r.menus:e.$message.error(a);case 5:case"end":return t.stop()}}),t)})))()},delChildren:function(e){for(var t=0;t<e.length;t++){var l=e[t];2==l.type&&(l.isDis=!0),l.children&&0==l.children?delete l.children:this.delChildren(l.children)}},openInitMenu:function(){this.isShow=!0},init:function(){this.$message.error("功能开发中"),this.isShow=!1},closeMenu:function(){this.isShow=!1},closeEd:function(){this.isShowEd=!1},openEdit:function(){this.isShowEd=!0},addEdit:function(){this.$message.error("功能开发中,敬请期待"),this.isShowEd=!1}}},p=u,m=l("2877"),d=Object(m["a"])(p,i,a,!1,null,"aa313ba2",null);t["default"]=d.exports}}]);