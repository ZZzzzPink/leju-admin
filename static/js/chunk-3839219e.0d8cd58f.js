(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3839219e"],{"0c6d":function(t,e,a){"use strict";a("d3b7");var s=a("bc3a"),l=a.n(s),r=a("5c96"),i=a("4360"),n=a("7859"),o=a("a18c"),d=l.a.create({baseURL:"http://leju.bufan.cloud",timeout:5e3});d.interceptors.request.use((function(t){return Object(n["a"])()&&(t.headers["token"]=Object(n["a"])()),t}),(function(t){return console.log(t),Promise.reject(t)})),d.interceptors.response.use((function(t){var e=t.data;return 20002===e.code&&(Object(n["c"])(),Object(n["d"])(),o["a"].push("/login")),2e4!==e.code?(Object(r["Message"])({message:e.message||"Error",type:"error",duration:5e3}),50008!==e.code&&50012!==e.code&&50014!==e.code||r["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){i["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(e.message||"Error"))):e}),(function(t){return console.log("err"+t),Object(r["Message"])({message:t.message,type:"error",duration:5e3}),Promise.reject(t)})),e["a"]=d},"1b62":function(t,e,a){"use strict";var s=a("7859");e["a"]={data:function(){return{paganationObj:{start:1,limit:6,totla:0,pageSizes:[3,6,9,12]},uploadFileOss:"http://leju.bufan.cloud/lejuAdmin/material/uploadFileOss",uploadFileOssSave:"http://leju.bufan.cloud/lejuAdmin/material/uploadFileOssSave"}},computed:{token:function(){return{token:Object(s["a"])()}}}}},8466:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("el-card",{attrs:{shadow:"always"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.isDia=!0}}},[t._v("新增")])],1),a("el-table",{attrs:{data:t.adList,border:"",stripe:""}},[a("el-table-column",{attrs:{fixed:"left",prop:"#",align:"center",type:"index"}}),a("el-table-column",{attrs:{label:"广告图片",width:"200px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.pic,fit:"fill"}})]}}])}),a("el-table-column",{attrs:{label:"时间",align:"center",width:"250px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" 开始时间:"+t._s(e.row.startTime)+" "),a("br"),t._v(" 结束时间:"+t._s(e.row.endTime)+" ")]}}])}),a("el-table-column",{attrs:{prop:"name",label:"广告名称",width:"200px",align:"center"}}),a("el-table-column",{attrs:{prop:"clickCount",width:"150px",label:"点击数",align:"center"}}),a("el-table-column",{attrs:{prop:"orderCount",width:"150px",label:"下单数",align:"center"}}),a("el-table-column",{attrs:{width:"150px",label:"轮播位置",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0==e.row.type?"首页轮播":"隐藏轮播")+" ")]}}])}),a("el-table-column",{attrs:{width:"150px",prop:"url",label:"链接地址",align:"center"}}),a("el-table-column",{attrs:{width:"150px",prop:"note",label:"备注",align:"center"}}),a("el-table-column",{attrs:{width:"150px",prop:"",align:"center",label:"上下线状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0==e.row.status?"下线":"上线")+" ")]}}])}),a("el-table-column",{attrs:{fixed:"right",prop:"",label:"操作",align:"center"}},[[a("span",{staticStyle:{color:"#4eacff","font-size":"12px"}},[t._v("编辑")]),a("span",{staticStyle:{"margin-left":"10px",color:"red","font-size":"12px"}},[t._v("删除")])]],2)],1),a("el-dialog",{attrs:{title:"广告详情",visible:t.isDia,width:"60%"},on:{"update:visible":function(e){t.isDia=e},close:t.closeDone}},[a("el-form",{ref:"addAdListForm",attrs:{model:t.addAdList,"label-width":"100px",size:"normal"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"广告名称"}},[a("el-input",{model:{value:t.addAdList.name,callback:function(e){t.$set(t.addAdList,"name",e)},expression:"addAdList.name "}})],1)],1),a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:t.addAdList.note,callback:function(e){t.$set(t.addAdList,"note",e)},expression:"addAdList.note "}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{model:{value:t.addAdList.sort,callback:function(e){t.$set(t.addAdList,"sort",e)},expression:"addAdList.sort "}})],1)],1),a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"产品数量"}},[a("el-input",{model:{value:t.addAdList.productCount,callback:function(e){t.$set(t.addAdList,"productCount",e)},expression:"addAdList.productCount"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"链接"}},[a("el-input",{model:{value:t.addAdList.url,callback:function(e){t.$set(t.addAdList,"url",e)},expression:"addAdList.url "}})],1)],1),a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"首页轮播位置"}},[a("el-select",{attrs:{placeholder:"轮播位置",clearable:"",filterable:""},model:{value:t.addAdList.type,callback:function(e){t.$set(t.addAdList,"type",e)},expression:"addAdList.type"}},[a("el-option",{attrs:{label:"APP首页",value:0}}),a("el-option",{attrs:{label:"隐藏",value:1}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{staticClass:"myInput",attrs:{type:"datetime",placeholder:"开始时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.addAdList.startTime,callback:function(e){t.$set(t.addAdList,"startTime",e)},expression:"addAdList.startTime "}})],1)],1),a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"结束时间"}},[a("el-date-picker",{staticClass:"myInput",attrs:{type:"datetime",placeholder:"开始时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.addAdList.endTime,callback:function(e){t.$set(t.addAdList,"endTime",e)},expression:"addAdList.endTime "}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"上下线状态"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.addAdList.status,callback:function(e){t.$set(t.addAdList,"status",e)},expression:"addAdList.status"}})],1)],1),a("el-col",{attrs:{span:12,offset:0}},[a("el-form-item",{attrs:{label:"图片"}},[a("el-upload",{attrs:{action:t.uploadFileOss,headers:t.token,"on-success":t.upImg}},[t.addAdList.pic?a("img",{staticClass:"avatar",staticStyle:{width:"200px"},attrs:{src:t.addAdList.pic}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{width:"200px","font-size":"20px","line-height":"200px"}})])],1)],1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.isDia=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.doAddAd}},[t._v("提交")])],1)],1)],1)],1)},l=[],r=a("c7eb"),i=a("1da1"),n=a("0c6d");function o(){return Object(n["a"])({url:"/lejuAdmin/advertise/adsList"})}function d(t){return Object(n["a"])({url:"/lejuAdmin/advertise/addAds",method:"post",data:t})}var c=a("1b62"),u={name:"Advertisement",mixins:[c["a"]],data:function(){return{adList:[],addAdList:{pic:""},isDia:!1}},created:function(){this.getAdList()},methods:{getAdList:function(){var t=this;return Object(i["a"])(Object(r["a"])().mark((function e(){var a,s,l,i;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:a=e.sent,s=a.success,l=a.data,i=a.message,s?t.adList=l.items:t.$message.error(i);case 5:case"end":return e.stop()}}),e)})))()},closeDone:function(){this.isDia=!1},upImg:function(t){this.addAdList.pic=t.data.fileUrl,console.log("%c [ this.addAdList ]-226","font-size:13px; background:pink; color:#bf2c9f;",this.addAdList)},doAddAd:function(){var t=this;return Object(i["a"])(Object(r["a"])().mark((function e(){var a,s,l;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d(t.addAdList);case 2:a=e.sent,s=a.success,l=a.message,s?(t.$message.success("成功"),t.isDia=!1,t.getAdList()):t.$message.error(l);case 5:case"end":return e.stop()}}),e)})))()}}},p=u,f=a("2877"),m=Object(f["a"])(p,s,l,!1,null,"8da8d5fa",null);e["default"]=m.exports}}]);