(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d4c1bff"],{"0c6d":function(t,e,r){"use strict";r("d3b7");var a=r("bc3a"),s=r.n(a),o=r("5c96"),n=r("4360"),c=r("7859"),l=r("a18c"),i=s.a.create({baseURL:"http://leju.bufan.cloud",timeout:5e3});i.interceptors.request.use((function(t){return Object(c["a"])()&&(t.headers["token"]=Object(c["a"])()),t}),(function(t){return console.log(t),Promise.reject(t)})),i.interceptors.response.use((function(t){var e=t.data;return 20002===e.code&&(Object(c["c"])(),Object(c["d"])(),l["a"].push("/login")),2e4!==e.code?(Object(o["Message"])({message:e.message||"Error",type:"error",duration:5e3}),50008!==e.code&&50012!==e.code&&50014!==e.code||o["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){n["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(e.message||"Error"))):e}),(function(t){return console.log("err"+t),Object(o["Message"])({message:t.message,type:"error",duration:5e3}),Promise.reject(t)})),e["a"]=i},"81d7":function(t,e,r){"use strict";r("e305")},afe5:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header"},[r("el-card",{staticClass:"m-30",attrs:{shadow:"always"}},[r("strong",[t._v("订单信息:")]),0==t.orderBackObjList.status?r("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("待处理")]):1==t.orderBackObjList.status?r("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("退货中")]):2==t.orderBackObjList.status?r("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("已完成")]):3==t.orderBackObjList.status?r("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("已拒绝")]):t._e(),r("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[r("el-col",{staticStyle:{"font-size":"15px"},attrs:{span:6,offset:0}},[t._v(" 订单编号:"+t._s(t.orderBackObjList.orderSn)+" "),r("a",{attrs:{href:""}},[t._v("查看详情")])]),r("el-col",{attrs:{span:6,offset:0}},[t._v(" 退单姓名:"+t._s(t.orderBackObjList.returnName)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[t._v(" 退单理由:"+t._s(t.orderBackObjList.reason)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[t._v(" 退单描述:"+t._s(t.orderBackObjList.description)+" ")])],1),r("el-row",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:12,offset:0}},[t._v(" 申请时间:"+t._s(t.orderBackObjList.createTime)+" ")])],1),r("border"),t.orderBackObjList.proofPics?r("el-row",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"},attrs:{gutter:0}},[r("el-col",{staticStyle:{width:"6.5%"},attrs:{span:3,offset:0}},[t._v(" 退单图片: ")]),r("el-col",{attrs:{span:1,offset:0}},[r("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.orderBackObjList.proofPics,fit:"fill",lazy:!0}})],1)],1):t._e(),r("strong",[t._v("退货商品")]),r("el-table",{attrs:{data:t.orderBackList}},[r("el-table-column",{attrs:{label:"商品描述"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.productPic,fit:"fill"}})]}}])}),r("el-table-column",{attrs:{label:"商品描述"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",[t._v(t._s(e.row.productName))]),r("div",[t._v("品牌:"+t._s(e.row.productBrand))])]}}])}),r("el-table-column",{attrs:{prop:"productPrice",label:"商品价格"}}),r("el-table-column",{attrs:{label:"商品属性"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("formSpData")(e.row.productAttr))+" ")]}}])}),r("el-table-column",{attrs:{prop:"productCount",label:"商品数量"}}),r("el-table-column",{attrs:{prop:"productRealPrice",label:"总计"}})],1),r("strong",[t._v("用户信息:")]),r("el-row",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[t._v(" 联系人:"+t._s(t.orderBackObjList.returnName)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[t._v(" 联系电话:"+t._s(t.orderBackObjList.returnPhone)+" ")])],1),r("strong",{staticStyle:{"margin-top":"20px"}},[t._v("费用信息:")]),r("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[t._v(" 退单金额: "),r("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.orderBackObjList.productRealPrice)+" ")])]),r("el-col",{attrs:{span:6,offset:0}},[t._v(" 运费金额: "),r("span",{staticStyle:{color:"red"}},[t._v(" 0 ")])])],1),0==t.orderBackObjList.status?r("div",[r("el-form",{attrs:{size:"small","label-width":"100px",inline:!0,model:t.dealBackList}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[t._v(" 退款金额:"),r("el-input-number",{attrs:{size:"mini",min:1,max:10,label:"描述文字"},on:{change:t.handleChange},model:{value:t.returnAmount,callback:function(e){t.returnAmount=e},expression:"returnAmount"}})],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"处理人"}},[r("el-input",{attrs:{placeholder:"处理人",size:"small"},model:{value:t.dealBackList.handleMan,callback:function(e){t.$set(t.dealBackList,"handleMan",e)},expression:"dealBackList.handleMan"}})],1)],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"处理备注"}},[r("el-input",{attrs:{placeholder:"处理备注",size:"small"},model:{value:t.dealBackList.handleNote,callback:function(e){t.$set(t.dealBackList,"handleNote",e)},expression:"dealBackList.handleNote"}})],1)],1)],1)],1),r("el-row",{attrs:{gutter:0}},[r("el-col",{attrs:{span:6,offset:10}},[r("el-button",{attrs:{type:"primary"},on:{click:t.Ag}},[t._v("同意退款")]),r("el-button",{on:{click:t.Re}},[t._v("拒绝退款")])],1)],1)],1):1==t.orderBackObjList.status?r("div",{staticStyle:{"margin-top":"20px"}},[r("strong",[t._v("处理结果:")]),r("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[t._v(" 处理人:"+t._s(t.orderBackObjList.handleMan)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[t._v(" 处理备注:"+t._s(t.orderBackObjList.handleNote)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[t._v(" 处理时间:"+t._s(t.orderBackObjList.handleTime)+" ")])],1),r("el-form",{ref:"dealBackListForm",staticStyle:{"margin-top":"20px"},attrs:{model:t.dealBackList,"label-width":"80px",size:"normal"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{staticClass:"noalgin",attrs:{label:"收货人:"}},[r("el-input",{attrs:{size:"mini"},model:{value:t.dealBackList.receiveMan,callback:function(e){t.$set(t.dealBackList,"receiveMan",e)},expression:"dealBackList.receiveMan"}})],1)],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"收货备注:"}},[r("el-input",{attrs:{size:"mini"},model:{value:t.dealBackList.receiveNote,callback:function(e){t.$set(t.dealBackList,"receiveNote",e)},expression:"dealBackList.receiveNote"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:8}},[r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.Ag}},[t._v("确认收货")])],1)],1)],1)],1)],1):t._e(),2==t.orderBackObjList.status?r("div",[r("strong",[t._v("处理结果")]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[t._v(" 处理人:"+t._s(t.orderBackObjList.handleMan)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[t._v(" 处理备注:"+t._s(t.orderBackObjList.handleNote)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[t._v(" 处理时间:"+t._s(t.orderBackObjList.handleTime)+" ")])],1),r("strong",[t._v("收货信息:")]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[t._v(" 退单收货人:"+t._s(t.orderBackObjList.receiveMan)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[t._v(" 退单收获备注:"+t._s(t.orderBackObjList.receiveNote)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[t._v(" 退单收货时间:"+t._s(t.orderBackObjList.receiveTime)+" ")])],1)],1):t._e()],1)],1)},s=[],o=r("c7eb"),n=r("1da1"),c=r("0c6d");function l(t){return Object(c["a"])({url:"/lejuAdmin/orderReturn/".concat(t)})}function i(t){return Object(c["a"])({url:"/lejuAdmin/orderReturn/agreeApply/".concat(t.id),method:"post",data:t})}function u(t){return Object(c["a"])({url:"/lejuAdmin/orderReturn/rejectApply/".concat(t.id),method:"post",data:t})}function d(t){return Object(c["a"])({url:"/lejuAdmin/orderReturn/receiveProduct/".concat(t.id),method:"post",data:t})}var p={name:"BackDetail",data:function(){return{orderBackId:0,orderBackList:[],orderBackObjList:{},returnAmount:1,dealBackList:{id:""}}},created:function(){this.$route.params.id&&(this.orderBackId=this.$route.params.id,this.getOrderBack())},methods:{getOrderBack:function(){var t=this;return Object(n["a"])(Object(o["a"])().mark((function e(){var r,a,s,n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(t.orderBackId);case 2:r=e.sent,a=r.success,s=r.message,n=r.data,console.log("%c [ res ]-181","font-size:13px; background:pink; color:#bf2c9f;",r),a?(t.orderBackList.push(n.orderReturnApply),t.dealBackList.id=n.orderReturnApply.id,t.orderBackObjList=t.orderBackList[0]):t.$message.error(s);case 6:case"end":return e.stop()}}),e)})))()},handleChange:function(t){console.log(t)},Ag:function(){var t=this;return Object(n["a"])(Object(o["a"])().mark((function e(){var r,a,s,n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=null,0==t.orderBackObjList.status?(t.dealBackList.returnAmount=t.returnAmount,r=i):"1"==t.orderBackObjList.status&&(r=d),e.next=4,r(t.dealBackList);case 4:a=e.sent,console.log("%c [ res ]-194","font-size:13px; background:pink; color:#bf2c9f;",a),s=a.success,n=a.message,s||t.$message.error(n);case 8:case"end":return e.stop()}}),e)})))()},Re:function(){var t=this;return Object(n["a"])(Object(o["a"])().mark((function e(){var r,a,s;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u(t.dealBackList);case 2:r=e.sent,console.log("%c [ res ]-204","font-size:13px; background:pink; color:#bf2c9f;",r),a=r.success,s=r.message,a||t.$message.error(s);case 6:case"end":return e.stop()}}),e)})))()}},filters:{formSpData:function(t){var e="";try{for(var r=JSON.parse(t),a=0;a<r.length;a++){var s=r[a];e+=s["key"]+":"+s["value"]+" "}return e=e.substring(0,e.length-1),e}catch(o){return t}}}},f=p,m=(r("81d7"),r("2877")),b=Object(m["a"])(f,a,s,!1,null,"22240822",null);e["default"]=b.exports},e305:function(t,e,r){}}]);